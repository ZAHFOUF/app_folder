{% extends 'base.html.twig' %}

{% block title %}Hello MainController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">

    <p> Dossier en cours : {{current_directory}} </p>


<p class="text-dark mt-4"> List des fichiers CSV </p>
    <table class="table">
   <thead class="table-light">

   <tr>

   <th> Nom Du Fichier </th>
   <th> chemin </th>
   <th> actions </th>

   </tr>
   
   </thead>
  <tbody>

  {% for file in files %}

   <tr>

   <th> {{ file.name }} </th>
   <th>  {{ file.path }} </th>
   <th>  <button
            
                type="button"
                class="btn btn-link btn-rounded btn-sm fw-bold"
                data-mdb-ripple-color="dark"
                
                >
       <a href="{{path('app_main_insert',{path:file.path})}}">    ins√©rer  </a>
        </button> </th>

   </tr>


  {% endfor %}
  
  
  </tbody>
     </table>

     {% for message in app.flashes('success') %}
    <div class="flash-notice">
    <div class="alert alert-success alert-fixed show"  data-mdb-position="top-right" role="alert" data-mdb-color="success">
        <i class="fas fa-check-circle me-3"></i>{{ message }}
      </div>
        
    </div>
{% endfor %}

    
</div>
{% endblock %}
